% !TeX program = pdflatex
\documentclass[12pt,a4paper]{article}

\usepackage[utf8]{inputenc}
\usepackage[T1]{fontenc}
\usepackage[polish]{babel}
\usepackage{graphicx}
\usepackage{amsmath, amssymb}
\usepackage{float}
\usepackage{geometry}
\usepackage{booktabs}
\usepackage{caption}
\usepackage{subcaption}
\usepackage{pgfplots}
\usepackage{hyperref}
\usepackage{icomma}
\usepackage{tikz}
\usetikzlibrary{shapes, arrows.meta, positioning, calc}

\geometry{margin=2.5cm}
\setlength{\parindent}{1.2cm}
\setlength{\parskip}{0.5em}
\linespread{1.2}
\pgfplotsset{compat=1.18}

\hypersetup{
	colorlinks=true,
	linkcolor=black,
	filecolor=black,
	urlcolor=blue,
	pdftitle={Sprawozdanie SA - Cw 1},
	pdfpagemode=FullScreen,
}

\begin{document}
		\begin{titlepage}
		\centering
		\Huge \textbf{Sprawozdanie z ćwiczeń laboratoryjnych}\\[0.5cm]
		\Large z przedmiotu: \textit{Sterowanie Analogowe}\\[2cm]
		
		\begin{tabular}{|p{6cm}|p{10cm}|}
			\hline
			\textbf{Numer ćwiczenia:} & 2 \\ \hline
			\textbf{Tytuł ćwiczenia:} & Badanie jakości i dokładności sterowania \\ \hline
			\textbf{Imię, nazwisko i numer albumu:} &
			\begin{tabular}[t]{@{}l@{}}
				Mateusz Kuczerowski 197900\\
				Kewin Kisiel 197866\\
			\end{tabular} \\ \hline
			\textbf{Data pomiarów:} & 16.10.2025 \\ \hline
			\textbf{Data oddania:} & 22.10.2025 \\ \hline
			\textbf{Ocena:} & \\ \hline
		\end{tabular}\\[2cm]
		
		\vfill
		\textbf{Prowadzący:} dr inż. Piotr Fiertek\\[0.2cm]
		\textbf{Grupa laboratoryjna:} 1A\\[1cm]
	\end{titlepage}
	
	\section{Cel ćwiczenia}
	W ramach zajęć analizowano odpowiedzi skokowe oraz charakterystyki częstotliwościowe (Bodego) dla różnych wartości wzmocnienia. Pozwoliło to na ocenę, jak zmiana $k_c$ wpływa na parametry odpowiedzi, takie jak przeregulowanie, czas ustalania, pasmo przenoszenia oraz dokładność sterowania (uchyb ustalony).
	
	\section{Przebieg ćwiczenia}
	Podczas ćwiczenia przeprowadzono badanie trzech różnych układów zamkniętych (Układ A, B, D), wskazanych przez prowadzącego. Układy te były sterowane za pomocą sterownika proporcjonalnego (P).
	Dla każdego z badanych układów zarejestrowano łącznie 9 odpowiedzi skokowych – po trzy dla każdej z trzech różnych wartości wzmocnienia sterownika $k_c$. W trakcie zajęć wykorzystano stanowisko pomiarowe składające się z zestawu analogowych modeli procesów przemysłowych (ZAMPP), generatora funkcji oraz oscyloskopu dwukanałowego. Zarejestrowane na oscyloskopie przebiegi (dane pomiarowe) zostały następnie wykorzystane do porównania z wynikami symulacji teoretycznych. Opracowanie wyników wymagało również przygotowania wykresów Nyquista oraz linii pierwiastkowych dla badanych układów.
	
	\newpage
	\section{Pomiary i analiza wyników}
	Poniżej przedstawiono zdjęcia z przeprowadzonych pomiarów w trakcie laboratorium.
	
	\begin{figure}[H]
		\centering
		\begin{subfigure}[b]{0.46\textwidth}
			\centering
			\includegraphics[width=\textwidth]{zdjecia/1.png}
			\caption{Zdjęcie pomiarów 1.}
			\label{fig:pomiar1}
		\end{subfigure}
		\hfill
		\begin{subfigure}[b]{0.46\textwidth}
			\centering
			\includegraphics[width=\textwidth]{zdjecia/2.png}
			\caption{Zdjęcie pomiarów 2.}
			\label{fig:pomiar2}
		\end{subfigure}
		\begin{subfigure}[b]{0.46\textwidth}
			\centering
			\includegraphics[width=\textwidth]{zdjecia/3.png}
			\caption{Zdjęcie pomiarów 3.}
			\label{fig:pomiar3}
		\end{subfigure}
		\hfill
		\begin{subfigure}[b]{0.46\textwidth}
			\centering
			\includegraphics[width=\textwidth]{zdjecia/4.png}
			\caption{Zdjęcie pomiarów 4.}
			\label{fig:pomiar4}
		\end{subfigure}
	\end{figure}
	
	\section{Układy pomiarowe}
	
	Układ A):
	\begin{figure}[H]
		\centering
		\begin{tikzpicture}[
			auto,
			node distance=2.5cm,
			>=Latex,
			block/.style={draw, rectangle, minimum height=1cm, minimum width=2cm},
			sum/.style={draw, circle, node distance=1.5cm},
			gain/.style={draw, regular polygon, regular polygon sides=3, shape border rotate=-90, minimum size=1.2cm, inner sep=0pt}
			]
			% --- Definicja węzłów (elementów schematu) ---
			\node[coordinate] (input) {}; % Punkt startowy dla wejścia
			\node[sum, right=1.5cm of input] (sum) {}; % Węzeł sumacyjny
			\node[gain, right=1.5cm of sum] (gain) {$k_c$}; % Wzmacniacz
			\node[block, right=1.5cm of gain] (integrator) {$\frac{1}{sT_i}$}; % Blok całkujący
			\node[block, right=2cm of integrator] (system) {$\frac{1}{s^2 a_2 + s a_1 + 1}$}; % Blok główny
			\node[coordinate, right=1.5cm of system] (output) {}; % Punkt końcowy dla wyjścia
			
			% --- Rysowanie strzałek i sygnałów ---
			\draw[->] (input) -- node[pos=0.2, above] {$r(t)$} (sum);
			\draw[->] (sum) -- node[above] {$e(t)$} (gain);
			\draw[->] (gain) -- node[above] {$u(t)$} (integrator);
			\draw[->] (integrator) -- (system);
			
			% --- Pętla sprzężenia zwrotnego ---
			% Najpierw rysujemy linię od bloku do punktu rozgałęzienia i dalej do wyjścia
			\draw[-] (system.east) -- ++(0.75,0) coordinate (branch_point);
			\draw[->] (branch_point) -- node[pos=0.5, above] {$c(t)$} (output);
			% Teraz rysujemy pętlę zwrotną od punktu rozgałęzienia do węzła sumacyjnego
			\draw[->] (branch_point) |- ++(0,-2cm) -| node[pos=0.95, right] {$-$} (sum.south);
			
			% --- Etykieta (a) ---
			\node at (output.east) [right=0.5cm] {(a)};
			
		\end{tikzpicture}
		\caption{Schemat układu pomiarowego (a).}
	\end{figure}
	
	\noindent Układ B):
	\begin{figure}[H]
		\centering
		\begin{tikzpicture}[
			auto,
			node distance=2.5cm,
			>=Latex,
			block/.style={draw, rectangle, minimum height=1cm, minimum width=2.5cm, align=center},
			sum/.style={draw, circle, node distance=1.5cm},
			gain/.style={draw, regular polygon, regular polygon sides=3, shape border rotate=-90, minimum size=1.2cm, inner sep=0pt}
			]
			% --- Definicja węzłów (elementów schematu) ---
			\node[coordinate] (input) {}; % Punkt startowy dla wejścia
			\node[sum, right=1.5cm of input] (sum) {}; % Węzeł sumacyjny
			\node[gain, right=1.5cm of sum] (gain) {$k_c$}; % Wzmacniacz
			\node[block, right=1.5cm of gain] (integrator) {$\frac{1}{sT_i}$}; % Blok całkujący
			\node[block, right=2.2cm of integrator] (system) {$\frac{1-sT_x}{1+sT_y}$}; % Blok główny
			\node[coordinate, right=1.5cm of system] (output) {}; % Punkt końcowy dla wyjścia
			
			% --- Rysowanie strzałek i sygnałów ---
			\draw[->] (input) -- node[pos=0.2, above] {$r(t)$} (sum);
			\draw[->] (sum) -- node[above] {$e(t)$} (gain);
			\draw[->] (gain) -- node[above] {$u(t)$} (integrator);
			\draw[->] (integrator) -- (system);
			
			% --- Pętla sprzężenia zwrotnego ---
			% Rysowanie linii od bloku do punktu rozgałęzienia i dalej do wyjścia
			\draw[-] (system.east) -- ++(0.75,0) coordinate (branch_point);
			\draw[->] (branch_point) -- node[pos=0.5, above] {$c(t)$} (output);
			% Rysowanie pętli zwrotnej
			\draw[->] (branch_point) |- ++(0,-2cm) -| node[pos=0.95, right] {$-$} (sum.south);
			
		\end{tikzpicture}
		\caption{Schemat układu pomiarowego (b).}
	\end{figure}
	
	\noindent Układ D):
	\begin{figure}[H]
		\centering
		\begin{tikzpicture}[
			auto,
			node distance=2.5cm,
			>=Latex,
			block/.style={draw, rectangle, minimum height=1cm, minimum width=2.5cm, align=center},
			sum/.style={draw, circle, node distance=1.5cm},
			gain/.style={draw, regular polygon, regular polygon sides=3, shape border rotate=-90, minimum size=1.2cm, inner sep=0pt}
			]
			% --- Definicja węzłów (elementów schematu) ---
			\node[coordinate] (input) {};
			\node[sum, right=1.5cm of input] (sum1) {};
			\node[gain, right=1.5cm of sum1] (gain) {$k_c$};
			\node[sum, right=1.5cm of gain] (sum2) {};
			\node[block, right=1.5cm of sum2] (system) {$\frac{k_p}{sT_p+1}$};
			\node[coordinate, right=1.5cm of system] (output) {};
			
			% --- Rysowanie strzałek i sygnałów (ścieżka główna) ---
			\draw[->] (input) -- node[pos=0.2, above] {$r(t)$} (sum1);
			\draw[->] (sum1) -- node[above] {$e(t)$} (gain);
			\draw[->] (gain) -- node[above] {$u(t)$} (sum2);
			\draw[->] (sum2) -- node[above] {$a(t)$} (system);
			
			% --- Dodanie zakłócenia d(t) ---
			\draw[->] (sum2.north) ++(0,1.2cm) node[above] {$d(t)$} -- node[pos=0.4, right] {$+$} (sum2);
			
			% --- Pętla sprzężenia zwrotnego i wyjście ---
			\draw[-] (system.east) -- ++(0.75,0) coordinate (branch_point);
			\draw[->] (branch_point) -- node[pos=0.5, above] {$c(t)$} (output);
			\draw[->] (branch_point) |- ++(0,-2cm) -| node[pos=0.95, right] {$-$} (sum1.south);
			
		\end{tikzpicture}
		\caption{Schemat blokowy układu regulacji z zakłóceniem.}
	\end{figure}
	
	\newpage
	\subsection{Układ A}
	
	Pierwszy badany układ składa się ze sterownika proporcjonalnego (P) oraz obiektu sterowanego w pętli ujemnego sprzężenia zwrotnego. Obiekt sterowany jest szeregowym połączeniem członu całkującego i członu inercyjnego drugiego rzędu. 
	
	Na podstawie identyfikacji przeprowadzonej w ćwiczeniu 1, przyjęto następujące parametry modeli:
	\begin{itemize}
		\item Człon całkujący: $G(s) = \frac{1}{sT_i}$, gdzie $T_i = 1,33 \text{ ms}$.
		\item Człon 2 rzędu: $G(s) = \frac{1}{1 + sa_1 + s^2a_2} = \frac{1}{1+s 2\zeta \tau + s^2 \tau^2} = \frac{w_n^2}{w_n^2 + s 2 \zeta w_n + s^2}$, gdzie wyznaczone parametry to $\zeta = 0,336$ i $\omega_n = 2560 \text{ rad/s}$.
	\end{itemize}
	
	Badania przeprowadzono dla trzech różnych wartości wzmocnienia \(k_c\), obliczonych ze wzoru \(k_c = 0,47 + n/2\):
	\begin{itemize}
		\item Dla \(n_1 = 0,1\): $k_{c1} = 0,47 + 0,1 / 2 = 0,47 + 0,05 = \textbf{0,52}$
		\item Dla \(n_2 = 1,3\): $k_{c2} = 0,47 + 1,3 / 2 = 0,47 + 0,65 = \textbf{1,12}$
		\item Dla \(n_3 = 2,4\): $k_{c3} = 0,47 + 2,4 / 2 = 0,47 + 1,20 = \textbf{1,67}$
	\end{itemize}
	
	\subsubsection{Odpowiedzi skokowe}
	Na poniższym wykresie przedstawiono zarejestrowane odpowiedzi skokowe układu (A) dla trzech wyznaczonych wzmocnień \(k_c\).
	
	\begin{figure}[H]
		\centering
		\includegraphics[width=1\linewidth]{zdjecia/OdpSkokA.png}
		\caption{Odpowiedź skokowa układu (A) przy różnych wartościach wzmocnienia \(k_c\) wykreślona z pliku CSV.}
		\label{fig:OdpSkokA}
	\end{figure}
	
	Analiza odpowiedzi skokowych Układu A pokazuje, że zwiększanie wzmocnienia $k_c$ skraca czas narastania, ale jednocześnie znacząco zwiększa przeregulowanie i oscylacyjność odpowiedzi. Niezależnie od wzmocnienia, uchyb ustalony wynosi zero, co jest zasługą członu całkującego w obiekcie sterowania.
	
	\subsubsection{Linie pierwiastkowe}
	Wykres linii pierwiastkowych dla układu otwartego \(G_o(s) = k_c \cdot \frac{1}{sT_i} \cdot \frac{w_n^2}{w_n^2 + s 2 \zeta w_n + s^2}\) przedstawiono poniżej. Zaznaczono na nim położenie biegunów układu zamkniętego dla badanych wzmocnień \(k_{c1}\), \(k_{c2}\) i \(k_{c3}\).
	
	\begin{figure}[H]
		\centering
		\includegraphics[width=0.8\linewidth]{zdjecia/LP_ukladA.png}
		\caption{Linie pierwiastkowe układu otwartego (A).}
		\label{fig:LP_ukladA}
	\end{figure}
	
	Wykres linii pierwiastkowych pokazuje, że wraz ze wzrostem $k_c$ bieguny układu zamkniętego zbliżają się do osi urojonej. Powoduje to spadek tłumienia, co bezpośrednio przekłada się na większe oscylacje widoczne na odpowiedziach skokowych. Linie pierwiastkowe wskazują również, że zbyt duże wzmocnienie $k_c$ doprowadzi do niestabilności systemu, ponieważ gałęzie zmierzają w kierunku prawej półpłaszczyzny. 
	
	\subsubsection{Charakterystyki Bodego}
	Poniższy wykres przedstawia charakterystyki Bodego układu zamkniętego dla badanych wartości \(k_c\).
	
	\begin{figure}[H]
		\centering
		% \includegraphics[width=1\linewidth]{zdjecia/bode_A.png}
		\caption{Charakterystyki Bodego układu zamkniętego (A).}
		\label{fig:bode_A}
	\end{figure}
	
	% TUTAJ WPISZ ANALIZĘ - np:
	% Wraz ze wzrostem wzmocnienia... pasmo przenoszenia...
	
	\subsubsection{Charakterystyki Nyquista}
	Na wykresie Nyquista układu otwartego można zbadać stabilność układu zamkniętego.
	
	\begin{figure}[H]
		\centering
		% \includegraphics[width=0.8\linewidth]{zdjecia/nyquist_A.png}
		\caption{Charakterystyka Nyquista układu otwartego (A).}
		\label{fig:nyquist_A}
	\end{figure}
	
	% TUTAJ WPISZ ANALIZĘ - np:
	% Wykres...
	
	\newpage % Wymuszenie nowej strony dla następnego układu
	
	\subsection{Układ B}
	
	Drugi badany układ składa się ze sterownika proporcjonalnego (P) oraz obiektu będącego szeregowym połączeniem członu całkującego i członu nieminimalnofazowego.
	
	Na podstawie identyfikacji przeprowadzonej w ćwiczeniu 1, przyjęto następujące parametry modeli:
	\begin{itemize}
		\item Człon całkujący: $G(s) = \frac{1}{sT_i}$, gdzie $T_i = 1,33 \text{ ms}$.
		\item Człon nieminimalnofazowy: $G(s) = \frac{1-sT_x}{1+sT_y}$, gdzie: $T_x = 0,396 \text{ ms}$ i $T_y = 0,113 \text{ ms}$.
	\end{itemize}
	
	Badania przeprowadzono dla trzech wartości wzmocnienia \(k_c\), obliczonych ze wzoru \(k_c = 0,47 + n/2\):
	\begin{itemize}
		\item Dla \(n_1 = 0,5\): $k_{c1} = 0,47 + 0,5 / 2 = 0,47 + 0,25 = \textbf{0,72}$
		\item Dla \(n_2 = 1,5\): $k_{c2} = 0,47 + 1,5 / 2 = 0,47 + 0,75 = \textbf{1,22}$
		\item Dla \(n_3 = 2,8\): $k_{c3} = 0,47 + 2,8 / 2 = 0,47 + 1,40 = \textbf{1,87}$
	\end{itemize}
	
	\subsubsection{Odpowiedzi skokowe}
	Na poniższym wykresie przedstawiono zarejestrowane odpowiedzi skokowe układu (B) dla trzech wyznaczonych wzmocnień \(k_c\).
	
	\begin{figure}[H]
	\centering
	\includegraphics[width=1\linewidth]{zdjecia/OdpSkokB.png}
	\caption{Odpowiedź skokowa układu (B) przy różnych wartościach wzmocnienia \(k_c\).}
	\label{fig:OdpSkokB}
	\end{figure}
	
	% TUTAJ WPISZ ANALIZĘ - np:
	% Charakterystyczne dla układu nieminimalnofazowego jest...
	
	\subsubsection{Linie pierwiastkowe}
	Wykres linii pierwiastkowych dla układu otwartego \(G_o(s) = k_c \cdot \frac{1}{sT_i} \cdot
	\frac{1-sT_x}{1+sT_y}\) przedstawiono poniżej. Zaznaczono na nim położenie biegunów układu zamkniętego dla badanych wzmocnień \(k_{c1}\), \(k_{c2}\) i \(k_{c3}\).
	
	\begin{figure}[H]
		\centering
		% \includegraphics[width=0.8\linewidth]{zdjecia/rlocus_B.png}
		\caption{Linie pierwiastkowe układu otwartego (B).}
		\label{fig:rlocus_B}
	\end{figure}
	
	% TUTAJ WPISZ ANALIZĘ...
	
	\subsubsection{Charakterystyki Bodego}
	
	\begin{figure}[H]
		\centering
		% \includegraphics[width=1\linewidth]{zdjecia/bode_B.png}
		\caption{Charakterystyki Bodego układu zamkniętego (B).}
		\label{fig:bode_B}
	\end{figure}
	
	% TUTAJ WPISZ ANALIZĘ...
	
	\subsubsection{Charakterystyki Nyquista}
	
	\begin{figure}[H]
		\centering
		% \includegraphics[width=0.8\linewidth]{zdjecia/nyquist_B.png}
		\caption{Charakterystyka Nyquista układu otwartego (B).}
		\label{fig:nyquist_B}
	\end{figure}
	
	% TUTAJ WPISZ ANALIZĘ...
	
	\newpage % Wymuszenie nowej strony dla następnego układu
	
	\subsection{Układ D}
	
	Ostatni badany układ to układ regulacji z zakłóceniem, składający się ze sterownika proporcjonalnego (P) i obiektu inercyjnego pierwszego rzędu.
	
	Na podstawie identyfikacji przeprowadzonej w ćwiczeniu 1, przyjęto następujące parametry modeli:
	\begin{itemize}
		\item Człon inercyjny 1 rzędu: $G(s) = \frac{k_p}{1+sT_p}$, gdzie $k_p = 0,871$ i $T_p = 0,78 \text{ ms}$.
	\end{itemize}
	
	Badania przeprowadzono dla trzech wartości wzmocnienia \(k_c\), obliczonych ze wzoru \(k_c = 0,47 + n/2\):
	\begin{itemize}
		\item Dla \(n_1 = 1,1\): $k_{c1} = 0,47 + 1,1 / 2 = 0,47 + 0,55 = \textbf{1,02}$
		\item Dla \(n_2 = 4,0\): $k_{c2} = 0,47 + 4,0 / 2 = 0,47 + 2,00 = \textbf{2,47}$
		\item Dla \(n_3 = 8,0\): $k_{c3} = 0,47 + 8,0 / 2 = 0,47 + 4,00 = \textbf{4,47}$
	\end{itemize}
	
	\subsubsection{Odpowiedzi skokowe}
	Na poniższym wykresie przedstawiono zarejestrowane odpowiedzi skokowe układu (D) dla trzech wyznaczonych wzmocnień \(k_c\).
	
	\begin{figure}[H]
	\centering
	\includegraphics[width=1\linewidth]{zdjecia/OdpSkokD.png}
	\caption{Odpowiedź skokowa układu (D) przy różnych wartościach wzmocnienia \(k_c\).}
	\label{fig:OdpSkokD}
	\end{figure}
	
	% TUTAJ WPISZ ANALIZĘ - np:
	% Układ jest astatyczny rzędu zero... Uchyb ustalony...
	
	\subsubsection{Linie pierwiastkowe}
	
	\begin{figure}[H]
		\centering
		% \includegraphics[width=0.8\linewidth]{zdjecia/rlocus_D.png}
		\caption{Linie pierwiastkowe układu otwartego (D).}
		\label{fig:rlocus_D}
	\end{figure}
	
	% TUTAJ WPISZ ANALIZĘ...
	
	\subsubsection{Charakterystyki Bodego}
	
	\begin{figure}[H]
		\centering
		% \includegraphics[width=1\linewidth]{zdjecia/bode_D.png}
		\caption{Charakterystyki Bodego układu zamkniętego (D).}
		\label{fig:bode_D}
	\end{figure}
	
	% TUTAJ WPISZ ANALIZĘ...
	
	\subsubsection{Charakterystyki Nyquista}
	
	\begin{figure}[H]
		\centering
		% \includegraphics[width=0.8\linewidth]{zdjecia/nyquist_D.png}
		\caption{Charakterystyka Nyquista układu otwartego (D).}
		\label{fig:nyquist_D}
	\end{figure}
	
	% TUTAJ WPISZ ANALIZĘ...
	
	\section{Wnioski}
	Tutaj wnioski
	
\end{document}